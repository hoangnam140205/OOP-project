<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Qu·∫£n L√Ω L∆∞∆°ng</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body class="container py-4">

    <h2 class="text-center text-danger fw-bold mb-4">üí∞ B·∫¢NG L∆Ø∆†NG NH√ÇN VI√äN</h2>

    <div th:if="${thongBao}" class="alert alert-success alert-dismissible fade show">
        <i class="bi bi-check-circle-fill"></i> <span th:text="${thongBao}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <div class="card p-4 mb-4 shadow-sm bg-light">
        <h5 class="card-title">‚öôÔ∏è T√≠nh L∆∞∆°ng H√†ng Th√°ng</h5>
        <form action="/bang-luong/tinh-toan" method="post" class="row g-3 align-items-end">
            <div class="col-auto">
                <label class="form-label fw-bold">Th√°ng:</label>
                <select name="thang" class="form-select">
                    <option value="12" selected>Th√°ng 12</option>
                    <option value="11">Th√°ng 11</option>
                    <option value="1">Th√°ng 1</option>
                </select>
            </div>
            <div class="col-auto">
                <label class="form-label fw-bold">NƒÉm:</label>
                <input type="number" name="nam" class="form-control" value="2025" style="width: 100px;">
            </div>
            <div class="col-auto">
                <button type="submit" class="btn btn-danger">
                    <i class="bi bi-calculator"></i> T√≠nh L∆∞∆°ng Ngay
                </button>
            </div>
        </form>
        <small class="text-muted mt-2">*L∆∞u √Ω: H·ªá th·ªëng s·∫Ω d·ª±a tr√™n d·ªØ li·ªáu Ch·∫•m c√¥ng v√† Th∆∞·ªüng/Ph·∫°t ƒë·ªÉ t√≠nh to√°n.</small>
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <table class="table table-bordered table-striped table-hover">
                <thead class="table-dark text-center">
                    <tr>
                        <th>M√£ NV</th>
                        <th>H·ªç T√™n</th>
                        <th>K·ª≥ L∆∞∆°ng</th>
                        <th>Ng√†y C√¥ng/Gi·ªù</th>
                        <th>L∆∞∆°ng Ch√≠nh</th>
                        <th>Th∆∞·ªüng</th>
                        <th>Ph·∫°t</th>
                        <th class="bg-success">TH·ª∞C L√ÉNH</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="bl : ${dsBangLuong}">
                        <td th:text="${bl.nhanVien.maNV}" class="fw-bold"></td>
                        <td th:text="${bl.nhanVien.hoTen}"></td>
                        
                        <td th:text="${bl.thang} + '/' + ${bl.nam}" class="text-center"></td>
                        
                        <td class="text-center">
                            <span th:text="${bl.soNgayCong}"></span> ng√†y
                            <span th:if="${bl.soGioLam > 0}" th:text="' (' + ${bl.soGioLam} + ' gi·ªù)'"></span>
                        </td>

                        <td th:text="${#numbers.formatDecimal(bl.luongChinh, 0, 'COMMA', 0, 'POINT')} + ' ƒë'" class="text-end"></td>
                        <td th:text="${#numbers.formatDecimal(bl.tongThuong, 0, 'COMMA', 0, 'POINT')} + ' ƒë'" class="text-end text-success"></td>
                        <td th:text="${#numbers.formatDecimal(bl.tongPhat, 0, 'COMMA', 0, 'POINT')} + ' ƒë'" class="text-end text-danger"></td>
                        
                        <td th:text="${#numbers.formatDecimal(bl.thucLanh, 0, 'COMMA', 0, 'POINT')} + ' ƒë'" class="text-end fw-bold text-danger bg-warning-subtle"></td>
                    </tr>
                </tbody>
            </table>
            
            <div th:if="${#lists.isEmpty(dsBangLuong)}" class="text-center p-3">
                Ch∆∞a c√≥ d·ªØ li·ªáu b·∫£ng l∆∞∆°ng. H√£y b·∫•m "T√≠nh L∆∞∆°ng Ngay".
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>